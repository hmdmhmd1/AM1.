<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>DarkChat :: Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ù…Ø¬Ù‡ÙˆÙ„Ø© ğŸ•¶ï¸ğŸ’»</title>
    <style>
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø§ÙƒÙ† Ø¨ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù‡Ø§ÙƒØ±Ø² */
        body {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            margin: 0;
            overflow: hidden;
        }

        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.3;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            border: 1px solid #f00;
            padding: 20px;
            background: rgba(0, 0, 0, 0.9);
        }

        #chat-box {
            height: 400px;
            overflow-y: scroll;
            border: 1px solid #0f0;
            padding: 10px;
            margin-bottom: 20px;
        }

        .message {
            margin: 10px 0;
            animation: glitch 1s infinite;
        }

        @keyframes glitch {
            0% { text-shadow: 2px 2px #f00; }
            50% { text-shadow: -2px -2px #0f0; }
            100% { text-shadow: 2px 2px #f00; }
        }

        input, button {
            background: #111;
            color: #0f0;
            border: 1px solid #0f0;
            padding: 10px;
            margin: 5px;
        }

        button:hover {
            background: #0f0;
            color: #000;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="matrix-canvas"></canvas>
    
    <div class="container">
        <h1>ğŸ–¥ï¸ Welcome to DarkChat :: Ghost_${Math.floor(Math.random()*1000)}</h1>
        <div id="chat-box"></div>
        
        <div id="room-controls">
            <button onclick="createRoom()">ğŸŒ€ Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ© Ø³Ø±ÙŠØ©</button>
            <button onclick="joinRandomRoom()">ğŸŒ Ø¯Ø®ÙˆÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
        </div>

        <input type="text" id="message-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§... (Enter Ù„Ø¥Ø±Ø³Ø§Ù„)">
        <button onclick="sendMessage()">ğŸ“¡ Ø¥Ø±Ø³Ø§Ù„</button>
        
        <div id="status">âš¡ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØµÙŠÙ„...</div>
    </div>

    <script>
        // ØªÙˆÙ„ÙŠØ¯ ØªØ£Ø«ÙŠØ± Matrix Rain
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()';
        const drops = Array(Math.floor(canvas.width/10)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#0F0';
            drops.forEach((drop, i) => {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * 10, drop * 10);
                drops[i] = drop > canvas.height/10 ? 0 : drop + 1;
            });
        }
        setInterval(drawMatrix, 50);

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… WebSocket
        const ws = new WebSocket('wss://your-websocket-server.com');
        let currentRoom = 'default';
        let username = Ghost_${Math.floor(Math.random()*10000)};

        ws.onopen = () => {
            document.getElementById('status').textContent = 'âš¡ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„: Ù…ØªØµÙ„ Ø¨Ù†Ø¬Ø§Ø­!';
        };

        ws.onmessage = (event) => {
            const msg = JSON.parse(event.data);
            displayMessage(msg.sender, msg.text, msg.timestamp);
        };

        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = {
                sender: username,
                text: input.value,
                room: currentRoom,
                timestamp: new Date().toLocaleTimeString()
            };
            ws.send(JSON.stringify(message));
            input.value = '';
        }

        function displayMessage(sender, text, time) {
            const chatBox = document.getElementById('chat-box');
            const msgElement = document.createElement('div');
            msgElement.className = 'message';
            msgElement.innerHTML = 
                <span style="color: #f00;">[${time}]</span>
                <strong>${sender}:</strong> 
                ${text} ${Math.random() > 0.5 ? 'ğŸ”’' : 'ğŸ’€'}
            ;
            chatBox.appendChild(msgElement);
            chatBox.scrollTop = chatBox.scrollHeight;
            
            // Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¨Ø¹Ø¯ 5 Ø¯Ù‚Ø§Ø¦Ù‚
            setTimeout(() => msgElement.remove(), 300000);
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØºØ±Ù ÙˆØ§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
        function createRoom() {
            currentRoom = secret_${Math.random().toString(36).substr(2, 9)};
            alert(ğŸ›¡ï¸ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ø³Ø±ÙŠØ©: ${currentRoom});
        }

        function joinRandomRoom() {
            const rooms = ['dark_web', 'hackers_paradise', 'cyber_void'];
            currentRoom = rooms[Math.floor(Math.random() * rooms.length)];
            alert(ğŸŒŒ ØªÙ… Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ ØºØ±ÙØ©: ${currentRoom});
        }

        // Ø¨ÙˆØª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        window.addEventListener('keypress', (e) => {
            if (e.key === '?' && document.activeElement.id === 'message-input') {
                const aiResponses = [
                    "Ø¬Ø§Ø±ÙŠ ÙƒØ³Ø± Ø§Ù„Ø¬Ø¯Ø±Ø§Ù† Ø§Ù„Ù†Ø§Ø±ÙŠØ©...",
                    "ØªÙ… Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¨Ù†Ø¬Ø§Ø­ ğŸ”¥",
                    "ØªØ­Ø°ÙŠØ±: ØªÙ… Ø§ÙƒØªØ´Ø§Ù ØªÙ‡Ø¯ÙŠØ¯ Ø£Ù…Ù†ÙŠ!",
                    "Ø¬Ø§Ø±ÙŠ ØªØ´ÙÙŠØ± Ø§Ù„Ù‚Ù†Ø§Ø©... Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªØ´ÙÙŠØ± AES-256",
                    "Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ØªØ¹Ù…Ù„ Ø¨Ù…Ø³ØªÙˆÙ‰ Ø£Ù…Ø§Ù† 9000 ğŸ”"
                ];
                const aiMessage = aiResponses[Math.floor(Math.random() * aiResponses.length)];
                displayMessage('AI_BOT', aiMessage, new Date().toLocaleTimeString());
            }
        });
    </script>

    <!-- Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ù„ÙÙŠ (Node.js) - ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ´ØºÙŠÙ„Ù‡ Ø¹Ù„Ù‰ Ø®Ø§Ø¯Ù… Ù…Ù†ÙØµÙ„ -->
    <script type="text/nodejs">
        const WebSocket = require('ws');
        const wss = new WebSocket.Server({ port: 8080 });

        wss.on('connection', (ws) => {
            ws.on('message', (message) => {
                // Ø¨Ø« Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙŠ Ù†ÙØ³ Ø§Ù„ØºØ±ÙØ©
                wss.clients.forEach(client => {
                    if (client.room === JSON.parse(message).room && client.readyState === WebSocket.OPEN) {
                        client.send(message);
                    }
                });
            });
        });

        console.log('ğŸ•¶ï¸ Ø®Ø§Ø¯Ù… DarkChat ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° 8080...');
    </script>
</body>
</html>
